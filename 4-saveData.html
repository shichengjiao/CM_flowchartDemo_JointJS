<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="node_modules/jointjs/css/layout.css">
    <script src="node_modules/jquery/dist/jquery.js"></script>
    <script src="node_modules/lodash/index.js"></script>
    <script src="node_modules/backbone/backbone.js"></script>
    <script src="node_modules/jointjs/dist/joint.js"></script>
    <style type="text/css">
        #paper .switchRect{
            cursor: pointer;
        }
    </style>
</head>
<body>
<div id="paper"></div>
<script>
    $.getJSON("temp1.json",function (data) {
        var graph=new joint.dia.Graph;
        var paper = new joint.dia.Paper({
            el: $('#paper'),
            width: 800,
            height: 600,
            gridSize: 1,
            model: graph,
            perpendicularLinks: true,
            restrictTranslate: true
        });
        graph.fromJSON(data);
    });

// ====================================================================================

//    $.getJSON("temp.json",function (data) {
//        var graph=new joint.dia.Graph;
//        var ElementView = joint.dia.ElementView.extend({
//            pointermove: function(evt, x, y) {}
//        });
//        var paper=new joint.dia.Paper({
//            el:$("#paper"),
//            width:800,
//            height:500,
//            gridSize:10,
//            perpendicularLinks:false,
//            model:graph,
//            elementView: ElementView
//        });
//        paper.$el.css('pointer-events', 'none');
//
//        //Bulb
//        var k=12.5*Math.pow(2,0.5);
//        joint.shapes.basic.Bulb = joint.shapes.basic.Generic.extend({
//            markup: '<g class="rotatable"><g class="scalable"><circle class="bulb_circle"/><line class="bulb_line1"/><line class="bulb_line2"/></g></g>',
//
//            defaults: joint.util.deepSupplement({
//                type: 'basic.Bulb',
//                size: { width: 50, height: 50 },
//                attrs: {
//                    circle: { cx: 25, cy: 25,r:25, fill: 'white', stroke: 'black'},
//                    '.bulb_line1':{
//                        stroke: 'black',x1:25-k,y1:25-k,x2:25+k,y2:25+k
//                    },
//                    '.bulb_line2':{
//                        stroke: 'black' ,x1:25-k,y1:25+k,x2:25+k,y2:25-k
//                    }
//                }
//            }, joint.shapes.basic.Generic.prototype.defaults)
//        });
//
//        //switch
//        joint.shapes.basic.Switch = joint.shapes.basic.Generic.extend({
//            markup: '<g class="rotatable"><g class="scalable"><rect class="switchRect"/><line class="switch"/><circle class="switch_circle1"/><circle class="switch_circle2"/></g></g>',
//            defaults: joint.util.deepSupplement({
//                type: 'basic.Switch',
//                size: { width: 100, height: 60 ,a:'232',b:'343'},
//                attrs: {
//                    rect:{width: 100, height: 60,'pointer-events':"auto"},
//                    '.switch': { stroke: 'black',x1:5,y1:40,x2:90,y2:0},
//                    '.switch_circle1':{
//                        stroke: 'black',cx:10,cy:50,r:10
//                    },
//                    '.switch_circle2':{
//                        stroke: 'black',cx:90,cy:50,r:10
//                    }
//                }
//            }, joint.shapes.basic.Generic.prototype.defaults)
//        });
//
//        joint.shapes.basic.PowerSupply = joint.shapes.basic.Generic.extend({
//            markup: '<g class="rotatable"><g class="scalable"><rect class="body"/><line class="power_line1"/><line class="power_line2"/></g></g>',
//            defaults: joint.util.deepSupplement({
//                type: 'basic.PowerSupply',
//                size: { width: 10, height: 100 },
//                attrs: {
//                    '.body':{width: 10, height: 100},
//                    '.power_line1': {x1:0,y1:0,x2:0,y2:100 },
//                    '.power_line2': {x1:10,y1:10,x2:10,y2:90},
//                    'line':{'stroke-width': 2, stroke: 'black'}
//                }
//            }, joint.shapes.basic.Generic.prototype.defaults)
//        });
//
//        graph.fromJSON(data);
//    });
</script>
</body>
</html>